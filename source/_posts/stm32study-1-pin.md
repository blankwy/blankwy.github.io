---
abbrlink: stm32-basepin-and-gpio
categories:
- - [技术学习 - 硬件]
date: '2025-10-28T15:02:52.557356+08:00'
tags:
- 编程
- 学习
- stm32
- 单片机
title: GPIO与三大基本引脚 - STM32学习笔记
updated: '2025-10-28T15:02:57.289+08:00'
---
# 基本引脚

引脚类别	主要引脚名称	核心功能说明	关键配置要点
电源引脚	VDD  /  VSS ,  VDDA  /  VSSA	为数字部分和模拟部分（如ADC）提供稳定电源和基准地。	模拟电源 VDDA 必须连接，且通常需要滤波，以确保ADC/DAC精度。
时钟引脚	OSC_  IN  /  OSC_  OUT  (HSE)
 OSC3  2_IN  /  OSC3  2_OUT  (LSE)	连接外部晶振，分别为系统提供高速主时钟和RTC提供低速精准时钟。	若使用外部晶振，必须正确连接这两个引脚；否则可配置为内部时钟源。
复位引脚	NRST	低电平有效的系统复位信号输入。	通常需要外加上拉电阻，并可搭配RC电路实现上电复位和手动复位。
GPIO引脚	PA0 ,  PB1 ,  PC15 ...	通用输入/输出，功能最灵活，可软件配置为多种模式。	支持推挽输出（强驱动）和开漏输出（需上拉，支持电平匹配）等模式。
模拟引脚	ADC_  INx ,  DAC_  OUTx	模数转换输入和数模转换输出，用于连接模拟传感器或产生模拟电压。	用作模拟功能时，必须配置为模拟模式，禁用数字功能以降低噪声。
通信接口引脚	TX / RX  (UART)
 SCL / SDA  (I2C)
 SCK / MOSI / MISO  (SPI)	负责串行数据通信，是连接外部传感器、模块的重要通道。	I2C引脚通常配置为复用开漏模式；具体功能通过复用功能选择寄存器配置。
定时器/PWM引脚	TIMx  _CHy	用于输出PWM波控制电机/灯效，或进行输入捕获测量脉冲宽度。	配置为复用推挽输出模式以实现PWM输出等功能。
调试/编程引脚	SWDI  O ,  SWCL  K	用于程序下载、在线调试和运行跟踪，是开发的必备接口。	SWD仅需两线，占用资源少，是常用的调试接口。



# GPIO (General-purpose input/output)

> 即输入输出引脚，是芯片与外部联系的接口。

**输入模式**：读取外部信号状态，如检测按键是否被按下。

**输出模式**：控制外部设备，如点亮LED或驱动蜂鸣器。

## 工作模式

由Ai总结表格


| 模式名称                              | 核心特点                                                                                 | 典型应用场景                                                           |
| ------------------------------------- | ---------------------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| **浮空输入**(FloatingInput)           | 电平完全由外部电路决定，内部无上拉/下拉电阻。<br />**引脚悬空时电平不确定**，易受干扰。  | 接有**连续、稳定驱动源**的信号，如UART的RX引脚接收数据。               |
| **上拉输入**(Pull-up Input)           | 内部电阻将引脚默认拉到**高电平**。<br />无外部信号时，引脚状态稳定为高。                 | **按键检测**（按键另一端接地），未按下时读为高电平，按下后读为低电平。 |
| **下拉输入**(Pull-downInput)          | 内部电阻将引脚默认拉到**低电平**。<br />无外部信号时，引脚状态稳定为低。                 | 检测**高电平有效**的传感器信号，如霍尔传感器。                         |
| **模拟输入**(Analog Input)            | 信号**不经过**数字电路（施密特触发器），<br />直接接入片内ADC等模拟外设。                | **ADC采集**，用于读取模拟传感器（如光敏电阻、电位器）的电压值。        |
| **推挽输出\***(Push-PullOutput)       | **最常用输出模式**。<br />能**主动输出**强力的高电平（VDD）和低电平（GND），驱动能力强。 | 驱动LED、蜂鸣器，以及**SPI、UART的TX****引脚**等需要高速开关的场合。   |
| **开漏输出***(Open-Drain Output)      | 只能**主动输出低电平**。高电平时呈高阻态，<br />需**外部上拉电阻**才能得到高电平。       | **I2C总线**（支持“线与”）、**电平转换**（如3.3V单片机控制5V设备）。  |
| **复用推挽输出**(AlternatePush-Pull)  | 引脚控制权交给**片上的专用外设**（如SPI、USB），<br />输出特性同推挽输出。               | 用于**SPI、USB**等片上外设的输出引脚。                                 |
| **复用开漏输出**(AlternateOpen-Drain) | 引脚控制权交给**片上的专用外设**（如I2C），<br />输出特性同开漏输出。                    | 用于**I2C**等片上外设的输出引脚。                                      |

其中**推挽输出**、开漏输出最常用

横向对比：


| 特性             | 推挽输出                             | 开漏输出                                       |
| ---------------- | ------------------------------------ | ---------------------------------------------- |
| 核心结构         | 两个互补的MOSFET（上管P型，下管N型） | 单个MOSFET（通常为N型），漏极开路              |
| 输出能力         | **能主动输****出高电平和低电平**     | 只能主动输出低电平，高电平需靠**外部上拉电阻** |
| 驱动能力         | **强**，可提供较大电流               | 较弱，高电平驱动能力取决于上拉电阻             |
| 开关速度         | **快**，由内部电路主动驱动           | 较慢，受上拉电阻和负载电容影响                 |
| 线与功能         | **不支持**，直接并联可能短路         | **支持**，方便实现总线逻辑                     |
| **外部****元件** | 通常无需外部元件                     | **必须****外接上拉电阻**                       |
| 静态功耗         | 较低（静态时电流很小）               | 低（高阻态时几乎无电流）                       |
