---
abbrlink: stm32-basepin-and-gpio
categories:
- - 硬件
date: '2025-10-28T15:02:52.557356+08:00'
tags:
- 编程
- 学习
- stm32
- 单片机
title: GPIO与三大基本引脚 - STM32学习笔记
updated: '2025-10-28T15:02:57.289+08:00'
---
# 基本引脚

## **电源引脚** (VCC & GND)

* **功能**：**VCC**（40脚）接5V电源正极，**GND**（20脚）接电源负极（地）。这是单片机工作的能量来源。
* 接反或电压过高极易烧毁芯片。

## **时钟引脚** (XTAL1 & XTAL2)

* **功能**：这两个引脚（18、19脚）用于连接外部晶振和电容，构成单片机的“心脏”，产生时钟脉冲。单片机所有操作都按这个节拍进行。
* **典型接法**：在XTAL1和XTAL2之间连接一个**11.0****592MHz**或**12MH****z**的晶振，并在每个引脚到地之间接一个**20-3****0pF**的电容。
* **提示**：晶振和电容应尽量靠近单片机引脚，以减少干扰，保证时钟稳定。

## **复位引脚 (RST)**

* **功能**：**RST**（9脚）在接收到**持续2个机器周期以上的高电平**后，会使单片机复位。复位后程序从开头重新执行。
* **经典复位电路**：由一个**10μF**的电解电容和一个**10kΩ**的电阻构成，既能实现上电自动复位，也可配合按键实现手动复位。
* **提示**：这是调试时最常用的功能之一，当程序“跑飞”或需要重新开始时，按下复位键即可。


# GPIO (General-purpose input/output)

> 即输入输出引脚，是芯片与外部联系的接口。

**输入模式**：读取外部信号状态，如检测按键是否被按下。

**输出模式**：控制外部设备，如点亮LED或驱动蜂鸣器。

## 工作模式

由Ai总结表格


| 模式名称                              | 核心特点                                                                                 | 典型应用场景                                                           |
| ------------------------------------- | ---------------------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| **浮空输入**(FloatingInput)           | 电平完全由外部电路决定，内部无上拉/下拉电阻。<br />**引脚悬空时电平不确定**，易受干扰。  | 接有**连续、稳定驱动源**的信号，如UART的RX引脚接收数据。               |
| **上拉输入**(Pull-up Input)           | 内部电阻将引脚默认拉到**高电平**。<br />无外部信号时，引脚状态稳定为高。                 | **按键检测**（按键另一端接地），未按下时读为高电平，按下后读为低电平。 |
| **下拉输入**(Pull-downInput)          | 内部电阻将引脚默认拉到**低电平**。<br />无外部信号时，引脚状态稳定为低。                 | 检测**高电平有效**的传感器信号，如霍尔传感器。                         |
| **模拟输入**(Analog Input)            | 信号**不经过**数字电路（施密特触发器），<br />直接接入片内ADC等模拟外设。                | **ADC采集**，用于读取模拟传感器（如光敏电阻、电位器）的电压值。        |
| **推挽输出\***(Push-PullOutput)       | **最常用输出模式**。<br />能**主动输出**强力的高电平（VDD）和低电平（GND），驱动能力强。 | 驱动LED、蜂鸣器，以及**SPI、UART的TX****引脚**等需要高速开关的场合。   |
| **开漏输出***(Open-Drain Output)      | 只能**主动输出低电平**。高电平时呈高阻态，<br />需**外部上拉电阻**才能得到高电平。       | **I2C总线**（支持“线与”）、**电平转换**（如3.3V单片机控制5V设备）。  |
| **复用推挽输出**(AlternatePush-Pull)  | 引脚控制权交给**片上的专用外设**（如SPI、USB），<br />输出特性同推挽输出。               | 用于**SPI、USB**等片上外设的输出引脚。                                 |
| **复用开漏输出**(AlternateOpen-Drain) | 引脚控制权交给**片上的专用外设**（如I2C），<br />输出特性同开漏输出。                    | 用于**I2C**等片上外设的输出引脚。                                      |

其中**推挽输出**、开漏输出最常用

横向对比：


| 特性             | 推挽输出                             | 开漏输出                                       |
| ---------------- | ------------------------------------ | ---------------------------------------------- |
| 核心结构         | 两个互补的MOSFET（上管P型，下管N型） | 单个MOSFET（通常为N型），漏极开路              |
| 输出能力         | **能主动输****出高电平和低电平**     | 只能主动输出低电平，高电平需靠**外部上拉电阻** |
| 驱动能力         | **强**，可提供较大电流               | 较弱，高电平驱动能力取决于上拉电阻             |
| 开关速度         | **快**，由内部电路主动驱动           | 较慢，受上拉电阻和负载电容影响                 |
| 线与功能         | **不支持**，直接并联可能短路         | **支持**，方便实现总线逻辑                     |
| **外部****元件** | 通常无需外部元件                     | **必须****外接上拉电阻**                       |
| 静态功耗         | 较低（静态时电流很小）               | 低（高阻态时几乎无电流）                       |
